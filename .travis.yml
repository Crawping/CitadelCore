language: csharp
mono: none
dotnet: 2.1.105
solution: CitadelCore.sln
script: dotnet clean && dotnet build --configuration Release
env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "wecOqMnHgm7We9jbajcroMaxOMudTQ+8a4wYtBoqUtkuTFTuCdCSvYERA927OonIcApkdbszwos8wYGL7Xl5AdS9rNsDus98aNQGZ5iqoN6fWXHwxX1AwhMttC+VCK/Mze+9SAraMxL8ud5xi1waoVIh0n31hpja+TMOt8jK69t/ymRE74KdT7JcFwFolFe+zzQKaWBRfcbwQMg6SKTGM4EcSUcXiGFifo8lfRnugmAdm6i1+WaQ3WlvF60ZiVc6N3crpQle7p+mmIphb6kU0xsoI31le3BkCUAmD5MaQHGHoP1sgpDSiFAdGmS4PERBqfBOisetIzNdA5MbeJAPff2WBeDZMV0ePV7tfAsOG32wWXypbcQ2d1WgheAMIVOPr6nuItI1v1/UWCrNwmB7FkB/x+VR1/n2r1i3tDNoYrj0qYG/2oVPUFVY4fiwg84eifK7xph2tLg9dfmua158wRQRU3fCTvxN9eHm029qEApuHnT30fGvnIO8kkp8A3GWjiZVesKYaMGYYWvCade2Yc3+oKXbJo13vyeQ00nkZhKwAJwXlxhJwHUzAkZkQ04apTnKbaoJHOEfT2vwU5WHOtZGH6RJzmBKpUjIKbVFYtNM+Rx+BtO+qm4Rh1MJyi08SvrJdytiKR5/0uIamy39UmJrsGO75O8Gh8Gcd37e5Pk="

before_install:
  - echo -n | openssl s_client -connect https://scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "TechnikEmpire/CitadelCore"
      description: ".NET proxy server core logic."
    notification_email: info@technikempire.com
    build_command_prepend: "dotnet clean"
    build_command: "dotnet build --configuration Release"
    branch_pattern: coverity_scan
